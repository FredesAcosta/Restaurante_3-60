# Restaurante 360 – Sistema de Pedidos en Línea  
Proyecto académico desarrollado con **Flask + MySQL**, que implementa un sistema completo para gestión de pedidos en restaurante, permitiendo registro/login de usuarios, selección de productos, carrito de compras, pedidos en mesa o a domicilio y panel administrativo.

---

## Funcionalidades Principales

### Cliente
- Registro e inicio de sesión  
- Visualización del menú de productos  
- Agregar productos al carrito  
- Ver resumen del pedido  
- Ingresar dirección para pedidos a domicilio  
- Seleccionar mesas disponibles (si elige pedido en mesa)  
- Realizar pedido y guardarlo en la BD  
- Cerrar sesión

### Administrador
- CRUD de productos  
- CRUD de categorías  
- Gestión de disponibilidad  
- Visualizar productos registrados  
- Sección para actualizar, eliminar y agregar nuevos ítems

---

## Estructura del Proyecto

Restaurante360/
│── app.py
│── database.sql
│── requirements.txt
│
├── static/
│ ├── css/
│ ├── js/
│ └── img/
│ └── (imágenes del sistema)
│
└── templates/
├── login.html
├── register.html
├── dashboard_cliente.html
├── menu.html
├── carrito.html
├── seleccionar_mesa.html
├── admin_dashboard.html
├── admin_productos.html
└── (otras vistas)

yaml
Copiar código

---

## ⚙️ Instalación del Proyecto

### 1️⃣ Clonar el repositorio
```bash
git clone https://github.com/tu_usuario/restaurante360.git
cd restaurante360
2️⃣ Crear entorno virtual
bash
Copiar código
python -m venv venv
source venv/bin/activate   # Linux/Mac
venv\Scripts\activate      # Windows
3️⃣ Instalar dependencias
bash
Copiar código
pip install -r requirements.txt
4️⃣ Importar base de datos MySQL
Crear una BD llamada restaurante360

Importar database.sql en phpMyAdmin o Workbench

5️⃣ Configurar credenciales MySQL en app.py
python
Copiar código
app.config['MYSQL_DATABASE_USER'] = 'root'
app.config['MYSQL_DATABASE_PASSWORD'] = ''
app.config['MYSQL_DATABASE_DB'] = 'restaurante360'
app.config['MYSQL_DATABASE_HOST'] = 'localhost'
6️⃣ Ejecutar la aplicación

bash
python app.py


# Basede datos

USE restaurante_db;


CREATE TABLE roles (
    id_rol INT AUTO_INCREMENT PRIMARY KEY,
    nombre_rol VARCHAR(50) UNIQUE
);


CREATE TABLE usuarios (
    id_usuario INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    correo VARCHAR(100) NOT NULL UNIQUE,
    telefono VARCHAR(15) NOT NULL,
    contraseña VARCHAR(255) NOT NULL,
    id_rol INT NOT NULL,
    FOREIGN KEY (id_rol) REFERENCES roles(id_rol)
);


CREATE TABLE empleados (
    id_empleado INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT NOT NULL,
    cargo ENUM('Cocinero', 'Cajero', 'Repartidor', 'Mesero', 'Administrador') NOT NULL,
    fecha_contratacion DATE,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);


CREATE TABLE categorias (
    id_categoria INT AUTO_INCREMENT PRIMARY KEY,
    nombre_categoria VARCHAR(100) UNIQUE
);


CREATE TABLE productos (
    id_producto INT AUTO_INCREMENT PRIMARY KEY,
    nombre_producto VARCHAR(100),
    descripcion TEXT,
    precio DECIMAL(10,2),
    imagen VARCHAR(255),
    id_categoria INT,
    disponible BOOLEAN DEFAULT TRUE,
    FOREIGN KEY (id_categoria) REFERENCES categorias(id_categoria)
);


CREATE TABLE pedidos (
    id_pedido INT AUTO_INCREMENT PRIMARY KEY,
    id_cliente INT,
    fecha_pedido DATETIME DEFAULT CURRENT_TIMESTAMP,
    estado ENUM('Pendiente', 'Preparando', 'En camino', 'Entregado', 'Cancelado') DEFAULT 'Pendiente',
    total DECIMAL(10,2),
    FOREIGN KEY (id_cliente) REFERENCES usuarios(id_usuario)
);


CREATE TABLE detalle_pedidos (
    id_detalle INT AUTO_INCREMENT PRIMARY KEY,
    id_pedido INT,
    id_producto INT,
    cantidad INT,
    precio_unitario DECIMAL(10,2),
    FOREIGN KEY (id_pedido) REFERENCES pedidos(id_pedido),
    FOREIGN KEY (id_producto) REFERENCES productos(id_producto)
);


CREATE TABLE pagos (
    id_pago INT AUTO_INCREMENT PRIMARY KEY,
    id_pedido INT,
    metodo_pago ENUM('Efectivo', 'Tarjeta', 'Transferencia', 'Pago móvil'),
    estado_pago ENUM('Pendiente', 'Pagado', 'Rechazado') DEFAULT 'Pendiente',
    fecha_pago DATETIME,
    FOREIGN KEY (id_pedido) REFERENCES pedidos(id_pedido)
);


CREATE TABLE comentarios (
    id_comentario INT AUTO_INCREMENT PRIMARY KEY,
    id_cliente INT,
    id_producto INT,
    comentario TEXT,
    calificacion INT CHECK(calificacion BETWEEN 1 AND 5),
    fecha_comentario DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_cliente) REFERENCES usuarios(id_usuario),
    FOREIGN KEY (id_producto) REFERENCES productos(id_producto)
);


CREATE TABLE reservas (
    id_reserva INT AUTO_INCREMENT PRIMARY KEY,
    id_cliente INT,
    fecha_reserva DATE,
    hora TIME,
    cantidad_personas INT,
    estado ENUM('Pendiente', 'Confirmada', 'Cancelada'),
    FOREIGN KEY (id_cliente) REFERENCES usuarios(id_usuario)
);


CREATE TABLE historial_actividad (
    id_actividad INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    accion TEXT,
    fecha_actividad DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);
CREATE TABLE  mesas (
    id_mesa INT AUTO_INCREMENT PRIMARY KEY,
    numero_mesa INT NOT NULL UNIQUE,
    capacidad INT NOT NULL,
    disponible BOOLEAN DEFAULT TRUE
) ENGINE=InnoDB;

INSERT INTO roles (id_rol, nombre_rol) VALUES
(1, 'Administrador'),
(2, 'Empleado'),
(3, 'Cliente');

INSERT INTO mesas (numero_mesa, capacidad) VALUES
(1, 4),
(2, 2),
(3, 4),
(4, 4),
(5, 4),
(6, 2),
(7, 6);
